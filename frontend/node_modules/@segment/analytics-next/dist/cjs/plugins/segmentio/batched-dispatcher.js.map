{"version":3,"file":"batched-dispatcher.js","sourceRoot":"","sources":["../../../../src/plugins/segmentio/batched-dispatcher.ts"],"names":[],"mappings":"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"}