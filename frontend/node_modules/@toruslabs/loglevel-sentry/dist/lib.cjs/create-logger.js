'use strict';

var loglevel = require('loglevel');
var loglevelSentry = require('./loglevel-sentry.js');

/**
 * TODO: remove in the next major version (v10)
 * @deprecated Use `loglevel.getLogger` instead
 * We should not use this function as it'll install the plugin to the logger which we already do it when setting up the Sentry
 * When we install multiple times, it'll format the error message in a nested way
 */
function createLogger(name, sentry) {
  const logger = loglevel.getLogger(name);
  logger.enableAll();
  const plugin = new loglevelSentry.LoglevelSentry(sentry);
  plugin.install(logger);
  return logger;
}

exports.createLogger = createLogger;
