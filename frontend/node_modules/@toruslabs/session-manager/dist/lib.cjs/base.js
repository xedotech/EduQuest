'use strict';

var _defineProperty = require('@babel/runtime/helpers/defineProperty');
var httpHelpers = require('@toruslabs/http-helpers');
var util = require('./util.js');

class BaseSessionManager {
  constructor() {
    _defineProperty(this, "sessionId", void 0);
  }
  checkSessionParams() {
    if (!this.sessionId) throw new Error("Session id is required");
    this.sessionId = util.padHexString(this.sessionId);
  }

  /**
   * Common handler method for making an http request.
   *
   * Note: Embed all the query parameters in the path itself.
   */
  request({
    method = "GET",
    url,
    data = {},
    headers = {}
  }) {
    const options = {
      headers
    };
    switch (method) {
      case "GET":
        return httpHelpers.get(url, options);
      case "POST":
        return httpHelpers.post(url, data, options);
      case "PUT":
        return httpHelpers.put(url, data, options);
      case "PATCH":
        return httpHelpers.patch(url, data, options);
    }
    throw new Error("Invalid method type");
  }
}

exports.BaseSessionManager = BaseSessionManager;
