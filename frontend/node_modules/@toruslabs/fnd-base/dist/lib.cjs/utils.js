'use strict';

var constants = require('@toruslabs/constants');
var sapphireNetworkConfig = require('./sapphireNetworkConfig.js');

function fetchLocalConfig(network, keyType, sigType) {
  if (Object.values(constants.TORUS_SAPPHIRE_NETWORK).includes(network)) {
    return sapphireNetworkConfig.getSapphireNodeDetails(network, undefined, keyType, sigType);
  }
  if (Object.values(constants.TORUS_LEGACY_NETWORK).includes(network)) {
    const legacyMap = constants.LEGACY_NETWORKS_ROUTE_MAP[network];
    if (legacyMap.migrationCompleted) return sapphireNetworkConfig.getSapphireNodeDetails(legacyMap.networkMigratedTo, network, keyType);
  }
  return undefined;
}

exports.fetchLocalConfig = fetchLocalConfig;
