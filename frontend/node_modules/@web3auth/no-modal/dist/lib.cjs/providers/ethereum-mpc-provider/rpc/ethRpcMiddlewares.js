'use strict';

var auth = require('@web3auth/auth');

// #region account middlewares
function createEthAccountMiddleware({
  updatePrivatekey
}) {
  async function updateAccount(req, res) {
    var _req$params;
    const accountParams = (_req$params = req.params) !== null && _req$params !== void 0 && _req$params.length ? req.params[0] : undefined;
    if (!(accountParams !== null && accountParams !== void 0 && accountParams.privateKey)) throw auth.rpcErrors.invalidParams("Missing privateKey");
    res.result = await updatePrivatekey(accountParams);
  }
  return auth.createScaffoldMiddleware({
    wallet_updateAccount: auth.createAsyncMiddleware(updateAccount)
  });
}
// #endregion account middlewares

exports.createEthAccountMiddleware = createEthAccountMiddleware;
